<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Веб-интерфейс Оркестратора</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="css/style.css" rel="stylesheet" />

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/auth.js" defer></script>
  <script src="js/calc.js" defer></script>
  <script src="js/ui.js" defer></script> <!-- Новый файл -->
</head>
<body>

  <!-- Меню -->
  <nav class="navbar navbar-expand navbar-dark bg-dark" style="height: 80px;">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link nav-switch" data-target="login-section" href="#">Вход</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-switch" data-target="register-section" href="#">Регистрация</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-switch" data-target="calculator-section" href="#">Калькулятор</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-4">
    <!-- Уведомления -->
    <div id="alert-container"></div>

    <!-- Авторизация -->
    <div id="login-section" class="card d-none">
      <h2 class="card-header">Вход</h2>
      <div class="card-body">
        <form id="login-form">
          <input type="text" class="form-control mb-3" id="login-username" placeholder="Логин" required>
          <input type="password" class="form-control mb-3" id="login-password" placeholder="Пароль" required>
          <button class="btn btn-primary w-100" type="submit">Войти</button>
        </form>
      </div>
    </div>

    <!-- Регистрация -->
    <div id="register-section" class="card d-none">
      <h2 class="card-header">Регистрация</h2>
      <div class="card-body">
        <form id="register-form">
          <input type="text" class="form-control mb-3" id="register-username" placeholder="Логин" required>
          <input type="password" class="form-control mb-3" id="register-password" placeholder="Пароль" required>
          <button class="btn btn-success w-100" type="submit">Создать аккаунт</button>
        </form>
      </div>
    </div>

    <!-- Калькулятор -->
    <div id="calculator-section" class="card d-none">
      <h2 class="card-header">Калькулятор</h2>
      <div class="card-body">
        <input type="text" class="form-control mb-3" id="jwt-token" placeholder="Введите JWT токен" required>
        <form id="calculate-form">
          <input type="text" class="form-control mb-3" id="expression" placeholder="Введите выражение" required>
          <button class="btn btn-primary w-100" type="submit">Вычислить</button>
        </form>

        <button id="load-expressions" class="btn btn-secondary mt-3 w-100">Загрузить выражения</button>

        <table class="table mt-3">
          <thead>
            <tr>
              <th>ID</th>
              <th>Выражение</th>
              <th>Статус</th>
              <th>Результат</th>
            </tr>
          </thead>
          <tbody id="expressions-table-body"></tbody>
        </table>

        <form id="get-expression-form" class="mt-3">
          <input type="text" class="form-control mb-2" id="expr-id" placeholder="ID выражения" required>
          <button type="submit" class="btn btn-info w-100">Получить детали</button>
        </form>
        <div id="expression-details" class="mt-2"></div>
      </div>
    </div>
  </div>

  <footer class="text-center mt-4">
    <p>© 2025 <b>Уставший калькулятор</b>. Все права защищены противотанковой броней 5-го поколения.</p>
  </footer>

</body>
</html>
